<?xml version="1.0" encoding="iso-8859-1"?>

<idea-plugin version="2">
  <id>uk.co.itmoore.intellisubsteps</id>
  <name>Substeps IntelliJ Plugin</name>
  <version>0.0.8-SNAPSHOT</version>
  <vendor email="ian@itmoore.co.uk" url="n/a">Substeps</vendor>

  <description><![CDATA[
      A plugin to help compose Substep features and substeps
    ]]></description>

    <!--      Enter short description for your plugin here.<br>
      <em>most HTML tags may be used</em> -->


  <change-notes><![CDATA[

    <h3>0.0.7</h3>
    <ul>
        <li>Quick documentation for substeps</li>
    </ul>


    <h3>0.0.6</h3>
    <ul>
        <li>fixed bug with substep parsing going into a loop if you start a new def in the middle of the file.</li>
    </ul>


    <h3>0.0.4/5</h3>
    <ul>
        <li>fixed bug in resolving step definitions in the go to functionality </li>
    </ul>

  <h4>0.0.3</h4>
  <ul>
    <li>code completion in substeps files (both feature ands and substeps).</li>
    <li>basic syntax highlighting</li>
    <li>Multi line commenting through selection and (Ctrl or Command) & / </li>
    <li>Implemented go to substep definition</li>
  </ul>


      ]]>
  </change-notes>

  <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Build+Number+Ranges for description -->
  <idea-version since-build="136.0"/>

  <!-- please see http://confluence.jetbrains.com/display/IDEADEV/Plugin+Compatibility+with+IntelliJ+Platform+Products
       on how to target different products -->
  <!-- uncomment to enable plugin in all products -->
  <depends>com.intellij.modules.lang</depends>


  <extensions defaultExtensionNs="com.intellij">
    <!-- Add your extensions here -->

    <errorHandler implementation="com.intellij.diagnostic.ITNReporter"/>

    <fileTypeFactory implementation="uk.co.itmoore.intellisubsteps.psi.feature.FeatureFileTypeFactory"/>

    <fileTypeFactory implementation="uk.co.itmoore.intellisubsteps.psi.stepdefinition.SubstepsStepDefinitionFileTypeFactory"/>

    <lang.syntaxHighlighterFactory key="SubstepStepDefinition"
         implementationClass="uk.co.itmoore.intellisubsteps.psi.stepdefinition.SubstepStepDefinitionSyntaxHighlighterFactory"/>

    <lang.syntaxHighlighterFactory key="SubstepsFeature"
         implementationClass="uk.co.itmoore.intellisubsteps.psi.feature.FeatureSyntaxHighlighterFactory"/>

      <colorSettingsPage implementation="uk.co.itmoore.intellisubsteps.SubstepsColourSettingsPage"/>




      <completion.contributor language="SubstepStepDefinition"
              implementationClass="uk.co.itmoore.intellisubsteps.psi.stepdefinition.SubstepDefinitionCompletionContributor"/>


      <completion.contributor language="SubstepsFeature"
                              implementationClass="uk.co.itmoore.intellisubsteps.psi.feature.FeatureCompletionContributor"/>



      <lang.parserDefinition language="SubstepStepDefinition"
             implementationClass="uk.co.itmoore.intellisubsteps.psi.stepdefinition.SubstepDefinitionParserDefinition"/>

      <lang.parserDefinition language="SubstepsFeature"
             implementationClass="uk.co.itmoore.intellisubsteps.psi.feature.FeatureParserDefinition"/>


      <lang.commenter language="SubstepStepDefinition" implementationClass="uk.co.itmoore.intellisubsteps.psi.SubstepsCommenter"/>

      <lang.commenter language="SubstepsFeature" implementationClass="uk.co.itmoore.intellisubsteps.psi.SubstepsCommenter"/>

      <lang.documentationProvider language="SubstepStepDefinition" implementationClass="uk.co.itmoore.intellisubsteps.SubstepsDocumentationProvider"/>

      <lang.documentationProvider language="SubstepsFeature" implementationClass="uk.co.itmoore.intellisubsteps.SubstepsDocumentationProvider"/>

      <configurationType implementation="uk.co.itmoore.intellisubsteps.execution.FeatureRunnerConfigurationType"/>

      <runConfigurationProducer implementation="uk.co.itmoore.intellisubsteps.execution.SubstepsFeatureRunnerConfigProducer"/>


      <!--  not sure that this does anything..

      <psi.referenceContributor implementation="uk.co.itmoore.intellisubsteps.psi.feature.FeatureReferenceContributor"/>-->
      <!--
        SubstepsFeature and SubstepStepDefinition




      -->


      <!--

    <lang.commenter language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.psi.GherkinCommenter"/>
    <lang.psiStructureViewFactory language="Gherkin"
                                  implementationClass="org.jetbrains.plugins.cucumber.psi.structure.GherkinStructureViewFactory"/>
    <lang.formatter language="Gherkin"
                    implementationClass="org.jetbrains.plugins.cucumber.psi.formatter.GherkinFormattingModelBuilder"/>

    <annotator language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.psi.annotator.GherkinAnnotator"/>
    <lang.foldingBuilder language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.psi.GherkinFoldingBuilder"/>
    <langCodeStyleSettingsProvider
        implementation="org.jetbrains.plugins.cucumber.psi.formatter.GherkinLanguageCodeStyleSettingsProvider"/>
    <codeStyleSettingsProvider implementation="org.jetbrains.plugins.cucumber.psi.formatter.GherkinCodeStyleSettingsProvider"/>

    <projectService serviceInterface="org.jetbrains.plugins.cucumber.psi.CucumberLanguageService"
                    serviceImplementation="org.jetbrains.plugins.cucumber.psi.CucumberLanguageService"/>

    <lang.findUsagesProvider language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.psi.GherkinFindUsagesProvider"/>
    <colorSettingsPage implementation="org.jetbrains.plugins.cucumber.psi.GherkinColorsPage"/>

    <projectService serviceInterface="org.jetbrains.plugins.cucumber.steps.CucumberStepsIndex"
                    serviceImplementation="org.jetbrains.plugins.cucumber.steps.CucumberStepsIndex"/>
    <psi.referenceContributor  language="Gherkin"
                               implementation="org.jetbrains.plugins.cucumber.steps.reference.CucumberReferenceContributor"/>

    <localInspection language="Gherkin" shortName="CucumberUndefinedStep" bundle="org.jetbrains.plugins.cucumber.CucumberBundle"
                     key="cucumber.inspection.undefined.step.name" groupKey="cucumber.inspection.group.name" enabledByDefault="true" level="WARNING"
                     implementationClass="org.jetbrains.plugins.cucumber.inspections.CucumberStepInspection" unfair="true"/>

    <localInspection language="Gherkin" shortName="CucumberExamplesColon" bundle="org.jetbrains.plugins.cucumber.CucumberBundle"
                     key="inspection.missed.colon.example.name" groupKey="cucumber.inspection.group.name" enabledByDefault="true"
                     level="ERROR" implementationClass="org.jetbrains.plugins.cucumber.inspections.CucumberExamplesColonInspection"/>

    <localInspection language="Gherkin" shortName="CucumberMissedExamples" bundle="org.jetbrains.plugins.cucumber.CucumberBundle"
                     key="inspection.missed.example.name" groupKey="cucumber.inspection.group.name" enabledByDefault="true" level="ERROR"
                     implementationClass="org.jetbrains.plugins.cucumber.inspections.CucumberMissedExamplesInspection"/>

    <localInspection language="Gherkin" shortName="CucumberTableInspection" displayName="Unused or missing columns in Cucumber tables"
                     groupBundle="org.jetbrains.plugins.cucumber.CucumberBundle" groupKey="cucumber.inspection.group.name" enabledByDefault="true"
                     level="WARNING" implementationClass="org.jetbrains.plugins.cucumber.inspections.CucumberTableInspection"/>

    <localInspection  language="Gherkin" shortName="GherkinBrokenTableInspection" bundle="org.jetbrains.plugins.cucumber.CucumberBundle"
                      key="inspection.gherkin.table.is.broken.name" groupKey="cucumber.inspection.group.name" enabledByDefault="true"
                      level="ERROR" implementationClass="org.jetbrains.plugins.cucumber.inspections.GherkinBrokenTableInspection"/>

    <localInspection language="Gherkin" shortName="GherkinMisplacedBackground" bundle="org.jetbrains.plugins.cucumber.CucumberBundle"
                     key="inspection.gherkin.background.after.scenario.name" groupKey="cucumber.inspection.group.name" enabledByDefault="true"
                     level="ERROR" implementationClass="org.jetbrains.plugins.cucumber.inspections.GherkinMisplacedBackgroundInspection"/>


    <enterHandlerDelegate implementation="org.jetbrains.plugins.cucumber.codeinsight.CucumberEnterHandler"/>
    <typedHandler implementation="org.jetbrains.plugins.cucumber.codeinsight.GherkinTypedHandler"/>

    <spellchecker.support language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.spellchecker.GherkinSpellcheckerStrategy"/>
    <lang.inspectionSuppressor language="Gherkin" implementationClass="org.jetbrains.plugins.cucumber.inspections.model.GherkinInspectionSuppressor"/>

    <liveTemplateContext implementation="org.jetbrains.plugins.cucumber.GherkinLiveTemplateContextType"/>

    <extendWordSelectionHandler implementation="org.jetbrains.plugins.cucumber.actions.GherkinStepParameterSelectioner"/>

    <gotoRelatedProvider implementation="org.jetbrains.plugins.cucumber.navigation.CucumberGoToRelatedProvider"/>

    <renameHandler implementation="org.jetbrains.plugins.cucumber.psi.refactoring.rename.GherkinInplaceRenameHandler"/>
    <renameHandler implementation="org.jetbrains.plugins.cucumber.psi.refactoring.rename.GherkinStepRenameHandler"/>


    <renamePsiElementProcessor implementation="org.jetbrains.plugins.cucumber.psi.refactoring.rename.CucumberStepRenameProcessor" order="first"/>

    <additionalTextAttributes scheme="Default" file="colorSchemes/GherkinDefault.xml"/>
    <additionalTextAttributes scheme="Darcula" file="colorSchemes/GherkinDarcula.xml"/>




      -->



      <!--
        <extensionPoints>
    <extensionPoint qualifiedName="org.jetbrains.plugins.cucumber.steps.cucumberJvmExtensionPoint"
                    interface="org.jetbrains.plugins.cucumber.CucumberJvmExtensionPoint"/>
  </extensionPoints>

      -->



  </extensions>

  <application-components>
    <!-- Add your application components here -->
  </application-components>

  <project-components>
    <!-- Add your project components here -->
  </project-components>


  <actions>

      <action id="Go to step definition" class="uk.co.itmoore.intellisubsteps.GotoStepDefinitionAction"
              text="Go to Step definition" description="A test menu item" >
          <add-to-group anchor="last" group-id="EditorPopupMenu"/>
              </action>

      <!--
          <group id="MyPlugin.SampleMenu" text="_Sample Menu" description="Sample menu">
            <add-to-group group-id="MainMenu" anchor="last"  />
            <action id="uk.co.itmoore.intellisubsteps.testactionid" class="uk.co.itmoore.intellisubsteps.TestAction" text="Text _Boxes" description="A test menu item" />
      -->
<!--
      <action id="Myplugin.Dialogs" class="Mypackage.MyShowDialog" text="Show _Dialog" description="A test menu item" />
-->
<!--
    </group>
-->



<!--
      <group id="SubstepsEditor" popup="true" text="Substeps">
          <reference ref="Go to step definition"/>
-->

          <!--
          <reference ref="View event PSI element"/>
          <reference ref="View event PSI file "/>
          <reference ref="idea.plugin.psiviewer.controller.actions.PsiDump"/>
          <reference ref="idea.plugin.psiviewer.controller.actions.PsiTestDump"/>
-->
<!--
          <add-to-group anchor="last" group-id="EditorPopupMenu"/>
      </group>
-->


  </actions>

</idea-plugin>